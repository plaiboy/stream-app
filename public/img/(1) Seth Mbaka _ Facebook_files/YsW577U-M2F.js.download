if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("useFXIMCometProfilePhotoSyncReminderOnSaveHandler_fxim.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useFXIMCometProfilePhotoSyncReminderOnSaveHandler_fxim",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"fxim_viewer_identity",plural:!1,selections:[{alias:"profile_photo_update_interstitial_reminder",args:[{kind:"Literal",name:"field",value:"PROFILE_PHOTO"},{kind:"Literal",name:"interface",value:"FB_WEB"},{kind:"Literal",name:"type",value:"UPDATE_INTERSTITIAL"}],concreteType:null,kind:"LinkedField",name:"reminder",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"useFXIMCometProfilePhotoSyncReminderOnSaveHandler_fxim",fragmentName:"FXIMCometProfilePhotoSyncReminderDialog_reminder",fragmentPropName:"reminder",kind:"ModuleImport"}],type:"FXIMReminder",abstractKey:null}],storageKey:'reminder(field:"PROFILE_PHOTO",interface:"FB_WEB",type:"UPDATE_INTERSTITIAL")'}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("fximCometProfilePhotoSyncPassiveReminder_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"fximCometProfilePhotoSyncPassiveReminder_query"};e.exports=a}),null);
__d("ProfileCometProfilePictureMediaPickerPhoto_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"ProfileCometProfilePictureMediaPickerPhoto_media",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[a],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:"thumbnail_image",args:[a,{kind:"Literal",name:"sizing",value:"cover-fill-cropped"},{kind:"Literal",name:"width",value:105}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[b],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_profile_picture",storageKey:null}],type:"Photo",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("useFXIMCometProfilePhotoSyncReminderOnSaveHandler",["CometRelay","Promise","fximCometReminderReferralFromProfilePhotoSource","react","requireDeferred","useCometDeferredDialog","useFXIMCometProfilePhotoSyncReminderOnSaveHandler_fxim.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=c("requireDeferred")("FXIMCometProfilePhotoSyncReminderNullDialog.react").__setRef("useFXIMCometProfilePhotoSyncReminderOnSaveHandler");function a(a){var e=a.fragment,f=a.source;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useFXIMCometProfilePhotoSyncReminderOnSaveHandler_fxim.graphql"),e);var g=a==null?void 0:(e=a.fxim_viewer_identity)==null?void 0:e.profile_photo_update_interstitial_reminder;a=g!=null?d("CometRelay").ModuleResource.read(g):null;var k=c("useCometDeferredDialog")((e=a)!=null?e:j);a=i(function(){return new(b("Promise"))(function(a){if(g){var b=d("fximCometReminderReferralFromProfilePhotoSource").fximCometReminderReferralFromProfilePhotoSource(f);k({fragment:g,loggerReminderReferral:b},a)}else a(!0)})},[g,k,f]);return a}g["default"]=a}),98);
__d("fximCometProfilePhotoSyncPassiveReminder",["CometRelay","FXIMCometProfilePhotoSyncPassiveReminder.react","fximCometProfilePhotoSyncPassiveReminder_query.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a,e){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("fximCometProfilePhotoSyncPassiveReminder_query.graphql"),a);a=(a=a.fxim_viewer_identity)==null?void 0:a.profile_photo_update_passive_reminder;return(a==null?void 0:a.body)!=null?i.jsx(c("FXIMCometProfilePhotoSyncPassiveReminder.react"),{source:e,textWithEntities:a.body}):null}g["default"]=a}),98);
__d("ProfileCometProfilePictureTemporaryOptions",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CUSTOM:-2,DAY:86400,HOUR:3600,MONTH:2592e3,PERMANENT:-1,WEEK:604800});f["default"]=a}),66);
__d("ProfileCometExpirationTimeSelector.react",["fbt","CometCardedDialogLoadingStateLegacy.react","CometSelect.react","CometTimestamp.react","JSResourceForInteraction","ProfileCometProfilePictureEditStrings","ProfileCometProfilePictureTemporaryOptions","react","useCometLazyDialog","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState,l=c("JSResourceForInteraction")("ProfileCometExpirationTimeSelectorDialog.react").__setRef("ProfileCometExpirationTimeSelector.react"),m=[{label:d("ProfileCometProfilePictureEditStrings").TEMPORARY_OPTION_ONE_HOUR,value:c("ProfileCometProfilePictureTemporaryOptions").HOUR},{label:d("ProfileCometProfilePictureEditStrings").TEMPORARY_OPTION_ONE_DAY,value:c("ProfileCometProfilePictureTemporaryOptions").DAY},{label:d("ProfileCometProfilePictureEditStrings").TEMPORARY_OPTION_ONE_WEEK,value:c("ProfileCometProfilePictureTemporaryOptions").WEEK},{label:d("ProfileCometProfilePictureEditStrings").TEMPORARY_OPTION_ONE_MONTH,value:c("ProfileCometProfilePictureTemporaryOptions").MONTH},{label:d("ProfileCometProfilePictureEditStrings").TEMPORARY_OPTION_NEVER,value:c("ProfileCometProfilePictureTemporaryOptions").PERMANENT},{label:d("ProfileCometProfilePictureEditStrings").TEMPORARY_OPTION_CUSTOM,value:c("ProfileCometProfilePictureTemporaryOptions").CUSTOM}],n=function(){return i.jsx(c("CometCardedDialogLoadingStateLegacy.react"),{title:h._("__JHASH__vFLvivwd2pl__JHASH__")})};function a(a){var b=a.disabled;b=b===void 0?!1:b;var d=a.onChange;a=a.value;a=k((a=a)!=null?a:c("ProfileCometProfilePictureTemporaryOptions").PERMANENT);var e=a[0],f=a[1];a=k(null);var g=a[0],h=a[1];a=c("useServerTime")();a=c("CometTimestamp.react").getTimestamp(a,new Date((a=g)!=null?a:0));a=[g!=null?{label:a,value:g}:null].concat(m).filter(Boolean);var o=c("useCometLazyDialog")(l,n),p=o[0];j(function(){g!=null?d(Math.ceil((g-Date.now())/1e3)):e===c("ProfileCometProfilePictureTemporaryOptions").PERMANENT?d(null):d(e)},[g,e,d]);return i.jsx(c("CometSelect.react"),{disabled:b,onChange:function(a){a===c("ProfileCometProfilePictureTemporaryOptions").CUSTOM?p({onSelect:function(a){return h(a.getTime())}}):(f(a),h(null))},options:a,selectedValue:(o=g)!=null?o:e,size:"full"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometProfilePictureAddFrameAction.react",["ix","ProfileCometProfilePictureEditDialogContext","ProfileCometProfilePictureEditStrings","ProfileCometProfilePictureFrameSelectorContainer.entrypoint","TetraButton.react","fbicon","react","useCometEntrypointPrerenderer","useProfileCometEngagementEventsClickCallback"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext;function a(a){var b=a.profileID;a=k(c("ProfileCometProfilePictureEditDialogContext"));var e=a.dispatch,f=a.loadEntryPoint;a=c("useCometEntrypointPrerenderer")("button",c("ProfileCometProfilePictureFrameSelectorContainer.entrypoint"),{profileID:b});var g=a[0],l=a[1];a=a[2];var m=c("useProfileCometEngagementEventsClickCallback")({feature_item:"add_frame",feature_surface:null,profile_feature:"profile_picture",profile_section:"edit_profile"}),n=j(function(){f&&f({profileID:b}),m(),e({type:"ADD_FRAME"})},[e,f,m,b]);return i.jsx(c("TetraButton.react"),{icon:d("fbicon")._(h("493181"),16),label:d("ProfileCometProfilePictureEditStrings").ADD_FRAME,onHoverIn:g,onHoverOut:l,onPress:n,onPressIn:a,testid:void 0,type:"secondary"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometProfilePictureZoomControl.react",["fbt","ix","CometSlider.react","ProfileCometProfilePictureEditStrings","TetraIcon.react","clamp","emptyFunction","fbicon","react","useProfileCometEngagementEventsClickCallback"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(a){var b=a.disabled;b=b===void 0?!1:b;var e=a.engagementEventsData,f=e===void 0?null:e,g=a.max,l=a.min,m=a.onChange,n=a.step,o=a.value,p=c("useProfileCometEngagementEventsClickCallback")(babelHelpers["extends"]({},f,{feature_item:"zoom"}));e=k(function(){f!==null&&p(),m(c("clamp")(o-n,l,g))},[g,l,m,n,o,f,p]);a=k(function(){f!==null&&p(),m(c("clamp")(o+n,l,g))},[g,l,m,n,o,f,p]);return j.jsxs("div",{className:"j0k7ypqs qjfq86k5 tpvapw4o ihx95mk1 jcxyg2ei alzwoclg",children:[j.jsx(c("TetraIcon.react"),{"aria-label":h._("__JHASH__6NXCnnVlZqY__JHASH__"),color:o===l?"disabled":"primary",disabled:b||o===l,icon:d("fbicon")._(i("531491"),20),onPress:e}),j.jsx("div",{className:"fyis59nb ruhy5e6q jbg88c62 h07fizzr",children:j.jsx(c("CometSlider.react"),{label:d("ProfileCometProfilePictureEditStrings").ZOOM_SLIDER,max:g,min:l,onChange:b?c("emptyFunction"):m,onChangeSettled:function(){f!==null&&p()},step:.01,value:o})}),j.jsx(c("TetraIcon.react"),{"aria-label":h._("__JHASH__kmL9L7uLCDq__JHASH__"),color:o===g?"disabled":"primary",disabled:b||o===g,icon:d("fbicon")._(i("483769"),20),onPress:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometProfilePictureZoomCropImage.react",["ix","CometImage.react","FBLogger","Locale","ProfileCometProfilePictureEditStrings","TetraIcon.react","TetraText.react","clamp","fbicon","react","useGlobalEventListener","useProfileCometEngagementEventsClickCallback"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useRef,m=b.useState;function n(a,b,c){var d=(.5-a[0])*b[0]*c;a=(.5-a[1])*b[1]*c;return{transform:"translate3d("+d+"px, "+a+"px, 0) scale("+c+")"}}function o(a){switch(a){case"circle":return{WebkitMaskImage:"-webkit-radial-gradient(white, black)",borderRadius:"50%"};case"rect":default:return{}}}function p(a){return{height:a[1]+"px",width:a[0]+"px"}}function q(a,b){var c=(d("Locale").isRTL()?1:-1)*(b[0]-a[0])/2;b=-(b[1]-a[1])/2;return{transform:"translate("+c+"px, "+b+"px)"}}function r(){var a=(d("Locale").isRTL()?1:-1)*50;return{transform:"translateX("+a+"%)"}}function s(a,b,d,e){var f=b[0]/2/(d[0]*e);b=b[1]/2/(d[1]*e);return[c("clamp")(a[0],f,1-f),c("clamp")(a[1],b,1-b)]}function t(a){if(a instanceof MouseEvent)return[a.clientX,a.clientY];if(a instanceof TouchEvent)return[a.targetTouches[0].pageX,a.targetTouches[0].pageY];throw c("FBLogger")("profile_comet").mustfixThrow("dragging instance must be a valid MoutEvent or TouchEvent")}function a(a){var b=a.center,e=a.cropShape;e=e===void 0?"circle":e;var f=a.cropSize,g=a.disabled,u=g===void 0?!1:g;g=a.engagementEventsData;var v=g===void 0?null:g,w=a.imageSize;g=a.imageSrc;var x=a.onMove,y=a.showCropped;y=y===void 0?!1:y;a=a.zoom;var z=a===void 0?1:a,A=l([0,0]),B=l([0,0]),C=l(1);a=m(!1);var D=a[0],E=a[1];a=m(!0);var F=a[0],G=a[1],H=c("useProfileCometEngagementEventsClickCallback")(babelHelpers["extends"]({},v,{feature_item:"preview"}));a=j(function(a){a.preventDefault()},[]);var I=j(function(a){if(u)return;a=t(a.nativeEvent);var c=a[0];a=a[1];E(!0);G(!1);A.current=[c,a];B.current=b},[b,u]),J=j(function(a){v&&H(),E(!1),a.stopPropagation()},[v,H]),K=j(function(a){if(!D)return;a=t(a);var b=a[0];a=a[1];b=b-A.current[0];a=a-A.current[1];b=[B.current[0]-b/(w[0]*C.current),B.current[1]-a/(w[1]*C.current)];x(s(b,f,w,C.current))},[f,w,D,x]);k(function(){z!==C.current&&(C.current=z,x(s(b,f,w,z)))},[b,f,w,x,z]);c("useGlobalEventListener")("mousemove",D?K:null,{capture:!0});c("useGlobalEventListener")("touchmove",D?K:null,{capture:!0});c("useGlobalEventListener")("mouseup",D?J:null,{capture:!0});c("useGlobalEventListener")("touchend",D?J:null,{capture:!0});return i.jsxs("div",{className:"mfclru0v om3e55n1 hf30pyar lq84ybu9 pytsy3co",children:[i.jsxs("div",{className:"qgwq1fa1 qy9lpsl4 om3e55n1 p8zq7ayg pry8b2m5"+(y?" hf30pyar lq84ybu9":""),style:p(f),children:[i.jsx("div",{className:"om3e55n1 hf30pyar lq84ybu9",style:babelHelpers["extends"]({},o(e),p(f)),children:i.jsx("div",{className:"s8sjc6am lisst02g",style:q(f,w),children:i.jsx("div",{style:n(b,w,C.current),children:i.jsx(c("CometImage.react"),{src:g})})})}),i.jsx("div",{className:"ekq1a7f9 s8sjc6am hbttzuxt lisst02g",style:q(f,w),children:i.jsx("div",{className:u?"":"aboifj3k",onDragStart:a,onMouseDown:I,onTouchStart:I,style:n(b,w,C.current),children:i.jsx(c("CometImage.react"),{src:g})})})]}),!u&&F&&i.jsxs("div",{className:"lf2uefnp py3ibqi0 s8sjc6am q46jt4gp e4ay1f3w aesu6q9g r5g9zsuq alzwoclg ta68dy8c kpwa50dg m0cukt09 h8391g91 j6c2zbc3 i85zmo3j",style:r(),children:[i.jsx("div",{className:"h07fizzr alzwoclg",children:i.jsx(c("TetraIcon.react"),{color:"white",icon:d("fbicon")._(h("697185"),20)})}),i.jsx(c("TetraText.react"),{color:"primaryOnMedia",type:"headlineEmphasized4",children:d("ProfileCometProfilePictureEditStrings").DRAG_INSTRUCTIONS})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometProfilePictureZoomCrop.react",["ProfileCometProfilePictureZoomControl.react","ProfileCometProfilePictureZoomCropImage.react","clamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useState,l={"default":{height:"t9fgx42w",width:"o2cy5lkn","@media (max-width: 700px)":{maxWidth:"da98uqhv"}},responsive:{"@media (max-width: 564px)":{height:"nb73qyvy"}}},m=5,n=180;function o(a){return Number(a.toFixed(m))}function p(a,b,c){b=Math.max(a[0]/b[0],a[1]/b[1]);a=Math.max(Math.min(a[0]/c[0],a[1]/c[1]),b);return[o(b),o(a)]}function q(a){return a[0]/a[1]===1}function a(a){var b=a.cropShape;b=b===void 0?"circle":b;var d=a.cropSize,e=a.disabled;e=e===void 0?!1:e;var f=a.engagementEventsData;f=f===void 0?null:f;var g=a.imageSize,m=a.imageSrc,r=a.minSize,s=a.onChange,t=a.showCropped;t=t===void 0?!1:t;a=a.xstyle;r=p(d,g,(r=r)!=null?r:[n,n]);var u=k(r[0]),v=u[0],w=u[1];u=k([.5,.5]);var x=u[0],y=u[1];u=!(v===r[0]&&q(g));var z=i(function(a){y(a)},[]),A=i(function(a){w(a)},[]);j(function(){var a=d[1]/(g[1]*v),b=d[0]/(g[0]*v),e=x[0]-b/2,f=x[1]-a/2;a=o(c("clamp")(a,0,1));b=o(c("clamp")(b,0,1));s({height:a,width:b,x:o(c("clamp")(e,0,1-b)),y:o(c("clamp")(f,0,1-a))})},[x,d,g,s,v]);return h.jsxs("div",{children:[h.jsx("div",{className:c("stylex")((a=a)!=null?a:[l["default"],l.responsive]),children:h.jsx(c("ProfileCometProfilePictureZoomCropImage.react"),{center:x,cropShape:b,cropSize:d,disabled:e||!u,engagementEventsData:f,imageSize:g,imageSrc:m,onMove:z,showCropped:t,zoom:v})}),h.jsx(c("ProfileCometProfilePictureZoomControl.react"),{disabled:e,engagementEventsData:f,max:r[1],min:r[0],onChange:A,step:.1,value:v})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometProfilePictureEditPreview.react",["fbt","ix","BaseRow.react","BaseRowItem.react","CometCard.react","CometFormTextArea.react","CometProgressIndicator.react","CometRelay","ProfileCometContextualProfileContext","ProfileCometExpirationTimeSelector.react","ProfileCometProfilePictureEditStrings","ProfileCometProfilePictureSetMutation","ProfileCometProfilePictureTemporaryOptions","ProfileCometProfilePictureZoomCrop.react","Promise","TetraButton.react","TetraIcon.react","TetraText.react","fbicon","gkx","promiseDone","react","stylex","useIsMountedRef","useMinifiedProductAttribution","useProfileCometEngagementEventsClickCallback","useProfileEngagementClickCallback","useProfileEngagementImpression"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useCallback,l=e.useContext,m=e.useRef,n=e.useState,o={cancelButton:{marginEnd:"b7mnygb8"},cropPhotoButton:{marginEnd:"tpvapw4o"},description:{paddingTop:"g4qalytl",paddingEnd:"r227ecj6",paddingBottom:"ez8dtbzv",paddingStart:"gt60zsk1"},footerWithDivider:{alignItems:"i85zmo3j",borderTop:"aiyajaxl",display:"alzwoclg",justifyContent:"siu44isn",paddingTop:"g4qalytl",paddingEnd:"r227ecj6",paddingBottom:"ez8dtbzv",paddingStart:"gt60zsk1"},privacyDisclaimer:{alignItems:"i85zmo3j",display:"alzwoclg",marginBottom:"p8bdhjjv",marginEnd:"rj0o91l8",marginStart:"p9ctufpz"},privacyIcon:{display:"alzwoclg",marginEnd:"tpvapw4o"},privacyText:{display:"alzwoclg"},saveButton:{marginStart:"iec8yc8l"},savingIndicator:{marginEnd:"b7mnygb8"},spacingBottom:{marginBottom:"p8bdhjjv",marginEnd:"rj0o91l8",marginStart:"p9ctufpz"},temporaryInput:{alignItems:"i85zmo3j",display:"alzwoclg",justifyContent:"sl27f92c",paddingBottom:"rj2hsocd",paddingEnd:"r227ecj6",paddingStart:"gt60zsk1",paddingTop:"s1m0hq7j"}},p=300,q=function(){return b("Promise").resolve(!0)};function a(a){var b=a.showPrivacyDisclaimerGlobe;b=b===void 0?!0:b;var e=a.privacyDisclaimer,f=a.canCropPhoto,g=f===void 0?!1:f;f=a.canMakeTemporary;f=f===void 0?!1:f;var r=a.onCancel,s=a.onSave,t=s===void 0?q:s,u=a.onSaveSuccess,v=a.photo,w=a.profileID,x=a.source,y=a.targetType;s=a.xstyle;var z=d("CometRelay").useRelayEnvironment(),A=m(null);a=n("");var B=a[0],C=a[1],D=c("useIsMountedRef")();a=n(!1);var E=a[0],F=a[1];a=l(c("ProfileCometContextualProfileContext"));var G=a.isContextualProfileView;a=a.userID;var H=n(!1),I=H[0],J=H[1];H=n(!1);var K=H[0],L=H[1];H=n(c("ProfileCometProfilePictureTemporaryOptions").WEEK);var M=H[0];H=H[1];a={engagement_type:"click",event_metadata:{entry_point:"self-view_edit_profile",item_edited:"profile_picture",type:"profile_picture"},item_subtype:"save_button",item_type:"edit_page",product_bucket:"contextual_profile",profile_id_dummy:a,subsurface:"group_contextual_profile_edit_page",surface:"group_contextual_profile"};var N=c("useProfileEngagementClickCallback")(a);a={mark_temporary_time:M==null?c("ProfileCometProfilePictureTemporaryOptions").PERMANENT.toString():M.toString()};var O={feature_surface:"edit_profile_picture_save_screen",profile_feature:"profile_picture",profile_section:"edit_form"},P=c("useProfileCometEngagementEventsClickCallback")(babelHelpers["extends"]({},O,{event_metadata:babelHelpers["extends"]({},a),feature_item:"save"})),Q=c("useProfileCometEngagementEventsClickCallback")(babelHelpers["extends"]({},O,{event_metadata:babelHelpers["extends"]({},a),feature_item:"cancel"})),R=c("useProfileCometEngagementEventsClickCallback")(babelHelpers["extends"]({},O,{feature_item:"make_temporary"})),S=c("useMinifiedProductAttribution")(),T=k(function(){F(!0),P(),G&&N(),d("ProfileCometProfilePictureSetMutation").setProfilePicture(z,{caption:B,expirationTime:K?M:null,navigationChain:S,photoID:v.id,profileID:w,scaledCropRect:A.current||void 0,skipCropping:g?!I:!1,source:x||void 0,targetType:y},{onCompleted:function(){u()},onError:function(){D.current&&F(!1)}})},[g,B,z,M,G,I,D,N,P,S,u,v.id,w,K,x,y]);a=k(function(){c("promiseDone")(t().then(function(a){return a&&T()}))},[t,T]);O=k(function(){r(),Q()},[r,Q]);var U=k(function(){L(!K),R()},[L,K,R]),V=k(function(a){A.current=a},[]),W=k(function(a){C(a)},[]),X=c("useProfileEngagementImpression")({item_subtype:"crop_photo",item_type:"cropping_button",product_bucket:"profile_core",surface:"profile_photo"}),Y=c("useProfileEngagementClickCallback")({item_subtype:"crop_photo",item_type:"cropping_button",product_bucket:"profile_core",surface:"profile_photo"},function(){return J(!I)}),Z=j.jsx(c("ProfileCometProfilePictureZoomCrop.react"),{cropSize:[p,p],disabled:E,imageSize:[v.width,v.height],imageSrc:v.uri,onChange:V,xstyle:s}),$=null;g&&(Z=j.jsx(c("ProfileCometProfilePictureZoomCrop.react"),{cropSize:[p,p],disabled:E,imageSize:[v.width,v.height],imageSrc:v.uri,onChange:V,showCropped:I,xstyle:s}),$=j.jsx("div",{ref:X,children:j.jsx(c("BaseRowItem.react"),{xstyle:o.cropPhotoButton,children:j.jsx(c("TetraButton.react"),{"aria-pressed":I,icon:d("fbicon")._(i("482559"),16),label:h._("__JHASH__3IKX_cy-ar5__JHASH__"),onPress:Y,reduceEmphasis:I,ref:X,type:I?"primary":"secondary"})})}));s=(V=e)!=null?V:G?h._("__JHASH__hM8yBG0z0nh__JHASH__"):d("ProfileCometProfilePictureEditStrings").PRIVACY_DISCLAIMER;Y=j.jsxs("div",{className:c("stylex")(o.privacyDisclaimer),children:[b?j.jsx("div",{className:c("stylex")(o.privacyIcon),children:j.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(i("560120"),20)})}):null,j.jsx("div",{className:c("stylex")(o.privacyText),children:j.jsx(c("TetraText.react"),{color:"secondary",testid:void 0,type:"body2",children:s})})]});return j.jsxs("div",{children:[!v.isProfilePicture&&!G&&j.jsx("div",{className:c("stylex")(o.description),children:j.jsx(c("CometFormTextArea.react"),{label:d("ProfileCometProfilePictureEditStrings").ADD_DESCRIPTION,minRows:2,onValueChange:W,value:B})}),Z,($!==null||f)&&!v.isProfilePicture&&j.jsxs(c("BaseRow.react"),{align:"center",xstyle:o.spacingBottom,children:[$,f&&!G&&j.jsx(c("BaseRowItem.react"),{children:j.jsx(c("TetraButton.react"),{"aria-pressed":K,icon:d("fbicon")._(i("478793"),16),label:d("ProfileCometProfilePictureEditStrings").MAKE_TEMPORARY,onPress:U,reduceEmphasis:K,type:K?"primary":"secondary"})})]}),K&&j.jsx(c("BaseRow.react"),{xstyle:o.spacingBottom,children:j.jsx(c("BaseRowItem.react"),{expanding:!0,children:j.jsx(c("CometCard.react"),{border:"solid",dropShadow:1,children:j.jsxs("div",{className:c("stylex")(o.temporaryInput),children:[j.jsx(c("TetraText.react"),{type:"body3",children:d("ProfileCometProfilePictureEditStrings").TEMPORARY_PROFILE_PIC_CONTROL}),j.jsx(c("ProfileCometExpirationTimeSelector.react"),{disabled:E,onChange:H,value:M})]})})})}),c("gkx")("1224637")?null:Y,j.jsxs("div",{className:c("stylex")(o.footerWithDivider),children:[j.jsx("div",{className:c("stylex")(o.cancelButton),children:E?j.jsx("div",{className:c("stylex")(o.savingIndicator),children:j.jsx(c("CometProgressIndicator.react"),{})}):j.jsx(c("TetraButton.react"),{label:d("ProfileCometProfilePictureEditStrings").CANCEL,onPress:O,reduceEmphasis:!0,type:"secondary"})}),j.jsx("div",{className:c("stylex")(o.saveButton),children:j.jsx(c("TetraButton.react"),{disabled:E,label:d("ProfileCometProfilePictureEditStrings").SAVE,onPress:a,padding:"wide",testid:void 0})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometProfilePictureMediaPickerPhoto.react",["CometBackgroundImage.react","CometPressable.react","CometRelay","ProfileCometProfilePictureEditDialogContext","ProfileCometProfilePictureEditStrings","ProfileCometProfilePictureMediaPickerPhoto_media.graphql","getRoundedCorners","react","stylex","useProfileCometEngagementEventsClickCallback"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useCallback,k=e.useContext,l={borderBottomEndRadius:{borderBottomEndRadius:"kpwa50dg"},borderBottomStartRadius:{borderBottomStartRadius:"ta68dy8c"},borderTopEndRadius:{borderTopEndRadius:"m0cukt09"},borderTopStartRadius:{borderTopStartRadius:"h8391g91"},imageBorder:{bottom:"z6erz7xo",boxShadow:"bzl67j14",boxSizing:"bdao358l",end:"on4d8346",position:"s8sjc6am",start:"myo4itp8",top:"ekq1a7f9"},root:{height:"pytsy3co",overflowX:"lq84ybu9",overflowY:"hf30pyar",position:"om3e55n1",width:"mfclru0v"}};function a(a){var e,f=a.media,g=a.photoSection,m=a.roundCorner,n=d("CometRelay").useFragment(h!==void 0?h:h=b("ProfileCometProfilePictureMediaPickerPhoto_media.graphql"),f);f=((a=n.thumbnail_image)==null?void 0:a.uri)||"";var o=n.id||"",p=((a=n.image)==null?void 0:a.height)||0,q=((a=n.image)==null?void 0:a.uri)||"",r=((a=n.image)==null?void 0:a.width)||0;a=(a=n==null?void 0:n.accessibility_caption)!=null?a:d("ProfileCometProfilePictureEditStrings").SELECT_PHOTO;var s=k(c("ProfileCometProfilePictureEditDialogContext")),t=s.dispatch;s=s.state;var u=c("useProfileCometEngagementEventsClickCallback")({content_id:o,event_metadata:{photo_section:(e=g)!=null?e:""},feature_item:"photo_item",feature_surface:"edit_profile_picture_select_photo_screen",profile_feature:"profile_picture",profile_section:"edit_form"});e=j(function(){g!=null&&u(),t({image:{height:p,id:o,isProfilePicture:n.is_profile_picture||!1,uri:q,width:r},type:"SELECT_PHOTO"})},[g,u,t,p,o,q,r,n.is_profile_picture]);var v=[c("getRoundedCorners").CORNERS.BOTTOM_END,c("getRoundedCorners").CORNERS.BOTTOM_START,c("getRoundedCorners").CORNERS.TOP_END,c("getRoundedCorners").CORNERS.TOP_START].map(function(a){return c("getRoundedCorners").hasCorner(m,a)}),w=v[0],x=v[1],y=v[2];v=v[3];return i.jsxs(c("CometPressable.react"),{disabled:s.isUploading,onPress:e,xstyle:[l.root,w&&l.borderBottomEndRadius,x&&l.borderBottomStartRadius,y&&l.borderTopEndRadius,v&&l.borderTopStartRadius],children:[i.jsx(c("CometBackgroundImage.react"),{alt:a,src:f}),i.jsx("div",{className:c("stylex")(w&&l.borderBottomEndRadius,x&&l.borderBottomStartRadius,y&&l.borderTopEndRadius,v&&l.borderTopStartRadius,l.imageBorder)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);