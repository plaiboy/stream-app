if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("useForceUpdate",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useReducer;function a(){var a=h(function(a){return a+1},0);a[0];a=a[1];return a}g["default"]=a}),98);
__d("useCopyText",["DateConsts","clearTimeout","react","requireDeferred","setTimeout","useForceUpdate"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState,l=c("requireDeferred")("Clipboard").__setRef("useCopyText"),m=null;l.onReady(function(a){m=a});function a(a){var b=a.onCopyPress,e=a.value;a=k(!1);var f=a[0],g=a[1],n=j(null),o=m!=null&&m.isSupported(),p=m,q=c("useForceUpdate")();i(function(){if(p==null)if(m==null)return l.onReady(q).remove;else q()},[p,q]);a=h(function(){b!=null&&b();if(o&&typeof e==="string"){var a;a=(a=m)==null?void 0:a.copy(e);a===!0&&(g(!0),c("clearTimeout")(n.current),n.current=c("setTimeout")(function(){g(!1)},.75*d("DateConsts").MS_PER_SEC))}},[b,n,e,o]);return[o,f,a]}g["default"]=a}),98);
__d("MWInboxPersistedUIState",["FBLogger","WebStorage","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef,j=b.useSyncExternalStore,k=new Map(),l=new Map();function m(a){(a=k.get(a))==null?void 0:a.forEach(function(a){return a()})}function a(a,b){var d=i(a).current,e=i({parsed:d,stringified:void 0});a=h(function(a){var c=k.get(b),d=c!=null?c:new Set();d.add(a);k.set(b,d);return function(){d["delete"](a)}},[b]);var f=h(function(){var a=c("WebStorage").getLocalStorageForRead();a=a==null?l.get(b):a.getItem(b);if(a==null)return d;if(a===e.current.stringified)return e.current.parsed;try{var f=JSON.parse(a);e.current={parsed:f,stringified:a};return f}catch(a){return d}},[d,b]);a=j(a,f);f=h(function(a){a=a instanceof Function?a(e.current.parsed):a;var d=c("WebStorage").getLocalStorage();a=JSON.stringify(a);if(d!=null)if(a===void 0)d.removeItem(b);else try{d.setItem(b,a)}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to setItem")}else l.set(b,a);m(b)},[b]);return[a,f]}g.usePersistedUIState=a}),98);
__d("MWCMInboxHeaderCommunityGroupName.bs",["fbt","CometPagelet.react","LSSuspense","MWCMThreadTypes.bs","MWCMUseFolder.bs","PresenceStatusContext","Promise","bs_caml","bs_caml_int64","bs_caml_obj","bs_curry","cr:183","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){return a}var k=b("cr:183")==null?function(a){return b("bs_caml_int64").neg_one}:b("cr:183").useCMThreadCoPresence;function a(a){var c=a.thread;a=a.renderWrapper;a=a!==void 0?a:j;var d=b("MWCMUseFolder.bs").useHook(c),e=i.useContext(b("PresenceStatusContext")),f=b("bs_curry")._1(k,c);if(d!==void 0){var h=b("bs_caml_obj").caml_equal(c.cannotReplyReason,"broadcast_chat_read_only");a=b("bs_curry")._1(a,b("MWCMThreadTypes.bs").isBroadcastThread(c.threadType)&&!h?g._("__JHASH__QrGOls5Na3V__JHASH__"):b("MWCMThreadTypes.bs").isPrivateThread(c.threadType)?g._("__JHASH__AR0EXhdbXqJ__JHASH__"):b("bs_caml").i64_gt(f,b("bs_caml_int64").zero)&&b("bs_curry")._1(e.getChatVisibility,void 0)?g._("__JHASH__zBhIvI5rTRs__JHASH__",[g._plural(b("bs_caml_int64").to_int32(f),"number")]):i.jsx(i.Fragment,{children:d.name}))}else a=b("LSSuspense").throwErrorOrPromise(b("Promise").resolve(void 0));return i.jsx(b("CometPagelet.react").Placeholder,{fallback:null,name:"MWCMInboxHeaderCommunityGroupName",children:a})}c=a;f.defaultRenderWrapper=j;f.$MWCMFetchPresence$requireCond=b("cr:183");f.useCMThreadCoPresence=k;f.make=c}),null);
__d("MWChatTypingIndicator.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");c="rbekeqoe-B";d="mz8sser0-B";var j={root:{alignItems:"i85zmo3j",display:"alzwoclg",height:"e2it7172"},dot:{animationName:"jc7vqel1",alignItems:"i85zmo3j",display:"alzwoclg",animationDuration:"jzjwknvz",animationIterationCount:"sz9npljr",animationTimingFunction:"sy5iu4oc",borderTopStartRadius:"kbhth0oh",borderTopEndRadius:"m91vjw4v",borderBottomEndRadius:"m4g18ulm",borderBottomStartRadius:"p1hfpb7b",height:"izqeatg5",marginEnd:"ewco64xe",marginStart:"ms56khn7",width:"cowpzf8e",backgroundColor:"qcvyq7ok"},dot1:{animationDelay:"c6ark4nl"},dot2:{animationDelay:"a08hj5dv"},dot3:{animationDelay:"e97avmng"},dotOpacity:{animation:"g802shwd",animationDuration:"jzjwknvz",animationIterationCount:"sz9npljr",animationTimingFunction:"sy5iu4oc",opacity:"cdum9rwi"},dot1Opacity:{animationDelay:"pbbke83a"},dot2Opacity:{animationDelay:"cnua1t12"},dot3Opacity:{animationDelay:"ijx9r80h"}};function a(a){return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[i.jsx("div",{className:h(j.dotOpacity,j.dot1Opacity),children:i.jsx("div",{className:h(j.dot,j.dot1)})}),i.jsx("div",{className:h(j.dotOpacity,j.dot2Opacity),children:i.jsx("div",{className:h(j.dot,j.dot2)})}),i.jsx("div",{className:h(j.dotOpacity,j.dot3Opacity),children:i.jsx("div",{className:h(j.dot,j.dot3)})})]})}e=a;f.dotAnimation=c;f.opacityAnimation=d;f.styles=j;f.make=e}),null);
__d("MWV2EnsureThatChatTabExists.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSDatabaseType.bs","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","LSVerifyContactRowExists","LSVerifyThreadRowExists","Promise","bs_curry","cr:2889","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("useReStore")();h.useEffect(function(){var e=function(e){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c))return b("LSTransaction.bs").run(d,function(c){return b("LSVerifyContactRowExists")(a,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("LS.bs").make(c))},"readWrite");else return b("Promise").resolve(void 0)};b("promiseDone")(e(void 0).then(function(e){return!(b("cr:2889")==null)&&b("LSMessagingThreadTypeUtil.bs").isSecure(c)?b("bs_curry")._2(b("cr:2889").call,d,a):b("LSTransaction.bs").run(d,function(d){return b("LSVerifyThreadRowExists")(a,c,b("LSDatabaseType.bs").mailbox,b("LS.bs").make(d))},"readWrite")}),void 0,void 0)},[d,JSON.stringify(a),JSON.stringify(c)])}c=b("cr:2889");f.$MAWVerifyExistingThreadExists$requireCondXplat=b("cr:2889");f.mawVerifyExistingThreadExists=c;f.useHook=a}),null);
__d("LsThreadType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];var g=[0,4],h=[0,5],i=[0,6],j=[0,7],k=[0,8],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16];b=b("bs_caml_int64").neg_one;var s=[-1,4294967294],t=[0,17],u=[0,18],v=[0,19],w=[0,20],x=[0,21];f.unknown=a;f.oneToOne=c;f.group=d;f.room=e;f.montage=g;f.marketplace=h;f.folder=i;f.tincan=j;f.optimisticGroupThread=k;f.carrierMessagingOneToOne=l;f.carrierMessagingGroup=m;f.selfThread=n;f.tincanDisappearing=o;f.pageFollowUp=p;f.secureMessageOverWaOneToOne=q;f.secureMessageOverWaGroup=r;f.armadilloOneToOne=b;f.armadilloGroup=s;f.communityFolder=t;f.communityGroup=u;f.communityGroupUnjoined=v;f.xacGroup=w;f.communityChat=x}),null);
__d("isFalsey",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null||!Boolean(a)}f["default"]=a}),66);
__d("useDebounced",["debounce","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo,j=b.useRef;function a(a,b,d){b===void 0&&(b=100);d===void 0&&(d=!1);var e=j(a);h(function(){e.current=a},[a]);var f=i(function(){return c("debounce")(function(){return e.current.apply(e,arguments)},b,null,!1,d)},[b,d]);h(function(){return f.reset},[f]);return f}g["default"]=a}),98);
__d("useUniqueID",["react","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef;function a(){var a=h(null);a.current===null&&(a.current=c("uniqueID")());return a.current}g["default"]=a}),98);
__d("XCometGroupChatsThreadViewControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groups/{idorvanity}/chats/{thread_id}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XGroupsC4GThreadViewControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groups/{idorvanity}/chats/{thread_id}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("MWV2ChatOverflowHead.bs",["fbt","ix","BaseGlimmer.react","CometContextualLayer.react","CometListCellGlimmer.react","CometMenuItemBase.react","CometTextWithEntities.react","LSMediaUrl.bs","LSThreadTitle.bs","MWChatHeadPicture.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatTextTransform.bs","MWFacepileGetContactsToShow.bs","MWIcon.react","MWMenu.react","MWPActor.bs","MWText.react","MWV2ChatHeadButton.bs","MWV2EnsureThatChatTabExists.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_array","bs_curry","fbicon","react","recoverableViolation","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react");function l(a){var c=b("MWPActor.bs").useActor(void 0),d=b("useReStore")();return b("bs_belt_Option").getWithDefault(b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:a,tl:0}),function(e){var f;return b("ReQLSuspense").toArray((f=b("ReQL.bs")).filter(f.bounds(f.take(f.getKeyRange(f.fromTableDescending(d.table("messages")),{hd:a,tl:0}),20),{NAME:"greaterThan",VAL:{hd:e.lastReadWatermarkTimestampMs,tl:0}}),function(a){return b("bs_caml").i64_neq(a.senderId,c)})).length})},[d,JSON.stringify(c),JSON.stringify(a)])),0)}function m(a){a=a.thread;var c=l(a.threadKey);return k.jsxs(k.Fragment,{children:[k.jsx(b("LSThreadTitle.bs").make,{thread:a}),k.jsx(b("CometTextWithEntities.react"),{text:g._("__JHASH__-HzxiMQUhNs__JHASH__",[g._param("unread message count",String(c))]),transforms:b("MWChatTextTransform.bs").epdTextTransforms})]})}c={useUnreadCount:l,make:m};var n={auxWrapper:{display:"alzwoclg",visibility:"qpyp3sab"},auxVisible:{visibility:"r0bj8g6i"},glimmer:{height:"jvc6uz2b",minWidth:"r8xmtgte"}};function o(a){var c=a.isItemHovered,d=a.setItemIsHovered;a=a.closeTab;return k.jsx("div",{className:(j||(j=b("stylex")))(n.auxWrapper,c?n.auxVisible:!1),children:k.jsx(b("MWIcon.react"),{"aria-label":g._("__JHASH__LLeka0bmVM0__JHASH__"),icon:b("fbicon")._(h("478231"),12),onPress:a,onHoverIn:function(a){return b("bs_curry")._1(d,function(a){return!0})},onHoverOut:function(a){return b("bs_curry")._1(d,function(a){return!1})},color:"secondary"})})}d={styles:n,make:o};var p={glimmer:{height:"jvc6uz2b",minWidth:"r8xmtgte"}};function q(a){var c=a.descriptor,d=a.tab,e=a.setParentHoverState,f=b("useReStore")();a=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("threads")),{hd:c.threadKey,tl:0})},[f,JSON.stringify(c.threadKey)]));var g=b("MWChatStateV2.bs").useDispatch(void 0);b("MWV2EnsureThatChatTabExists.bs").useHook(c.threadKey,c.threadType);var h=k.useState(function(){return!1}),i=h[1];if(a!==void 0)return k.jsx(b("CometMenuItemBase.react"),{primaryText:k.jsx(m,{thread:a}),onClick:function(a){b("bs_curry")._1(e,function(a){return!1});return b("bs_curry")._1(g,b("MWChatStateActions.bs").maximizeTab(Date.now(),d.tabId))},onHoverIn:function(a){return b("bs_curry")._1(i,function(a){return!0})},onHoverOut:function(a){return b("bs_curry")._1(i,function(a){return!1})},aux:k.jsx(o,{tab:d,isItemHovered:h[0],setItemIsHovered:i,closeTab:function(a){return b("bs_curry")._1(g,b("MWChatStateActions.bs").closeTab(Date.now(),d.tabId))}})});else return k.jsx("div",{className:(j||(j=b("stylex")))(p.glimmer),children:k.jsx(b("CometListCellGlimmer.react"),{imageStyle:"none"})})}e={styles:p,make:q};function r(a){var c=a.excessHeads,d=a.setParentHoverState;return k.jsx(b("MWMenu.react"),{children:c.map(function(a){var c=a.tabType;if(c.TAG!==0)return k.jsx(q,{descriptor:c._0,tab:a,setParentHoverState:d},String(a.tabId));b("recoverableViolation")("Compose tab shouldn't be part of excess tabs","messenger_web_product");return null}),size:"full",truncate:!0,withArrow:!0})}var s={make:r},t={overflowCount:{position:"s8sjc6am",width:"l188yfni",height:"ov5gjlzi",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f",top:"ekq1a7f9",display:"alzwoclg",alignItems:"i85zmo3j",justifyContent:"jcxyg2ei",backgroundColor:"kl0yapha"}};function u(a){var c=a.thread;a=a.count;c=b("MWFacepileGetContactsToShow.bs").useHook(c).map(function(a){return b("LSMediaUrl.bs").Contact.profilePictureUrl(a)});return k.jsx(b("MWChatHeadPicture.bs").make,{images:c,children:k.jsx("div",{className:(j||(j=b("stylex")))(t.overflowCount),children:k.jsx(b("MWText.react"),{color:"white",type:"bodyLink3",children:g._("__JHASH__RM0bWy2OLZa__JHASH__",[g._param("chat count",String(a))])})}),noFacepile:!0,noDropShadow:!0})}var v={styles:t,make:u},w={glimmer:{borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f",width:"mfclru0v",height:"pytsy3co"}};function x(a){var c=a.tab;a=a.count;b("MWV2EnsureThatChatTabExists.bs").useHook(c.threadKey,c.threadType);var d=b("useReStore")(),e=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:c.threadKey,tl:0})},[d,JSON.stringify(c.threadKey)]));if(e!==void 0)return k.jsx(u,{thread:e,count:a});else return k.jsx(b("BaseGlimmer.react"),{theme:"dark",index:1,xstyle:w.glimmer})}var y={styles:w,make:x};function a(a){var c=a.style,d=a.excessHeads,e=a.onHoverChange;a=k.useState(function(){return!1});var f=a[1],h=d.length,i=k.useRef(null);if(h<=0)return null;var j=b("bs_caml_array").get(d,0).tabType,l;j.TAG===0?(b("recoverableViolation")("Compose tab shouldn't be part of excess tabs","messenger_web_product"),l=null):l=k.jsx(x,{tab:j._0,count:h});return k.jsx(b("MWV2ChatHeadButton.bs").Container.make,{children:k.jsx(b("MWV2ChatHeadButton.bs").make,{ariaLabel:g._("__JHASH__cpB5BWXmx9z__JHASH__",[g._param("chat count",String(h))]),children:k.jsxs("div",{onMouseEnter:function(a){b("bs_curry")._1(f,function(a){return!0});return b("bs_curry")._1(e,!0)},onMouseLeave:function(a){b("bs_curry")._1(f,function(a){return!1});return b("bs_curry")._1(e,!1)},children:[l,a[0]?k.jsx(b("CometContextualLayer.react"),{align:"middle",position:"end",contextRef:i,children:k.jsx(r,{excessHeads:d,setParentHoverState:f})}):null]}),ref:i}),style:c})}a=a;f.MenuItemTitle=c;f.CloseButton=d;f.MenuItem=e;f.HoverMenu=s;f.Facepile=v;f.FirstThreadPicture=y;f.make=a}),null);
__d("CometDTPAppV2LiveQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6052892531421801"}),null);
__d("CometDTPAppV2Query_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7853352141373563"}),null);